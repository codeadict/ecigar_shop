(function(){if(!window.google||!google.gears){var c=null;if("undefined"!=typeof GearsFactory)c=new GearsFactory;else try{c=new ActiveXObject("Gears.Factory"),-1!=c.getBuildInfo().indexOf("ie_mobile")&&c.privateSetGlobalObject(this)}catch(l){"undefined"!=typeof navigator.mimeTypes&&navigator.mimeTypes["application/x-googlegears"]&&(c=document.createElement("object"),c.style.display="none",c.width=0,c.height=0,c.type="application/x-googlegears",document.documentElement.appendChild(c))}c&&(window.google||
(google={}),google.gears||(google.gears={factory:c}))}})();
Persist=function(){var c,l,m,h,g,q;q=function(){var a=["expires","path","domain"],k=escape,c=unescape,f=document,b,d=function(c,f){var b,d,n=[],e=2<arguments.length?arguments[2]:{};n.push(k(c)+"="+k(f));for(var g=0;g<a.length;g++)b=a[g],(d=e[b])&&n.push(b+"="+d);e.secure&&n.push("secure");return n.join("; ")};b={set:function(a,k){var c=2<arguments.length?arguments[2]:{},b=new Date;b.setTime(b.getTime());var n={};if(c.expires)if(-1==c.expires)n.expires=-1;else{var e=864E5*c.expires;n.expires=new Date(b.getTime()+
e);n.expires=n.expires.toGMTString()}b=["path","domain","secure"];for(e=0;e<b.length;e++)c[b[e]]&&(n[b[e]]=c[b[e]]);c=d(a,k,n);f.cookie=c;return k},has:function(a){a=k(a);var c=f.cookie,b=c.indexOf(a+"="),c=c.substring(0,a.length);return!b&&a!=c||0>b?!1:!0},get:function(a){a=k(a);var b=f.cookie,d=b.indexOf(a+"="),n=d+a.length+1,e=b.substring(0,a.length);if(!d&&a!=e||0>d)return null;a=b.indexOf(";",n);0>a&&(a=b.length);return c(b.substring(n,a))},remove:function(a){var k=b.get(a);f.cookie=d(a,"",{expires:"Thu, 01-Jan-1970 00:00:01 GMT"});
return k},keys:function(){for(var a=f.cookie.split("; "),k,b=[],d=0;d<a.length;d++)k=a[d].split("="),b.push(c(k[0]));return b},all:function(){for(var a=f.cookie.split("; "),k,b=[],d=0;d<a.length;d++)k=a[d].split("="),b.push([c(k[0]),c(k[1])]);return b},version:"0.2.1",enabled:!1};b.enabled=function(){var a=new Date,a=a.toGMTString();this.set("__EC_TEST__",a);return this.enabled=this.remove("__EC_TEST__")==a}.call(b);return b}();var b=function(){return Array.prototype.indexOf?function(a,k){return Array.prototype.indexOf.call(a,
k)}:function(a,k){for(var b=0,c=a.length;b<c;b++)if(a[b]==k)return b;return-1}}();g=function(){};m=function(a){return"PS"+a.replace(/_/g,"__").replace(/ /g,"_s")};var f="localstorage globalstorage gears cookie ie flash".split(" "),d=/^[a-z][a-z0-9_ \-]+$/i,e="init get set remove load save iterate".split(" "),s={autostart:!0};l={gears:{size:-1,test:function(){return window.google&&window.google.gears?!0:!1},methods:{init:function(){var a;a=this.db=google.gears.factory.create("beta.database");a.open(m(this.name));
a.execute("CREATE TABLE IF NOT EXISTS persist_data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)").close()},get:function(a){var b=this.db,c;b.execute("BEGIN").close();a=b.execute("SELECT v FROM persist_data WHERE k = ?",[a]);c=a.isValidRow()?a.field(0):null;a.close();b.execute("COMMIT").close();return c},set:function(a,b){var c=this.db;c.execute("BEGIN").close();c.execute("DELETE FROM persist_data WHERE k = ?",[a]).close();c.execute("INSERT INTO persist_data(k, v) VALUES (?, ?)",[a,b]).close();
c.execute("COMMIT").close();return b},remove:function(a){var b=this.db;b.execute("BEGIN").close();b.execute("DELETE FROM persist_data WHERE k = ?",[a]).close();b.execute("COMMIT").close();return!0},iterate:function(a,b){var c;for(c=this.db.execute("SELECT * FROM persist_data");c.isValidRow();)a.call(b||this,c.field(0),c.field(1)),c.next();c.close()}}},globalstorage:{size:5242880,test:function(){return window.globalStorage?!0:!1},methods:{key:function(a){return m(this.name)+m(a)},init:function(){this.store=
globalStorage[this.o.domain]},get:function(a){a=this.key(a);return this.store.getItem(a)},set:function(a,b){a=this.key(a);this.store.setItem(a,b);return b},remove:function(a){var b;a=this.key(a);b=this.store.getItem[a];this.store.removeItem(a);return b}}},localstorage:{size:-1,test:function(){try{if(window.localStorage&&void 0==window.localStorage.setItem("test",null))if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){if(9<=RegExp.$1)return!0;if("file:"==window.location.protocol)return!1}else return!0;
else return!1;return window.localStorage?!0:!1}catch(a){return!1}},methods:{key:function(a){return this.name+">"+a},init:function(){this.store=localStorage},get:function(a){a=this.key(a);return this.store.getItem(a)},set:function(a,b){a=this.key(a);this.store.setItem(a,b);return b},remove:function(a){var b;a=this.key(a);b=this.store.getItem(a);this.store.removeItem(a);return b},iterate:function(a,b){for(var c=this.store,d,f,e=0;e<c.length;e++)d=c.key(e),f=d.split(">"),2==f.length&&f[0]==this.name&&
a.call(b||this,f[1],c.getItem(d))}}},ie:{prefix:"_persist_data-",size:65536,test:function(){return window.ActiveXObject?!0:!1},make_userdata:function(a){var b=document.createElement("div");b.id=a;b.style.display="none";b.addBehavior("#default#userdata");document.body.appendChild(b);return b},methods:{init:function(){var a=l.ie.prefix+m(this.name);this.el=l.ie.make_userdata(a);this.o.defer&&this.load()},get:function(a){a=m(a);this.o.defer||this.load();return this.el.getAttribute(a)},set:function(a,
b){a=m(a);this.el.setAttribute(a,b);this.o.defer||this.save();return b},remove:function(a){var b;a=m(a);this.o.defer||this.load();b=this.el.getAttribute(a);this.el.removeAttribute(a);this.o.defer||this.save();return b},load:function(){this.el.load(m(this.name))},save:function(){this.el.save(m(this.name))}}},cookie:{delim:":",size:4E3,test:function(){return c.Cookie.enabled?!0:!1},methods:{key:function(a){return this.name+l.cookie.delim+a},get:function(a,b){a=this.key(a);return q.get(a)},set:function(a,
b,c){a=this.key(a);q.set(a,b,this.o);return b},remove:function(a,b){a=this.key(a);return b=q.remove(a)}}},flash:{test:function(){return swfobject?8<=swfobject.getFlashPlayerVersion().major?!0:!1:!1},methods:{init:function(){if(!l.flash.el){var a,b;a=document.createElement("div");a.id="_persist_flash_wrap";b=document.createElement("div");b.id="_persist_flash";a.appendChild(b);document.body.appendChild(a);l.flash.el=swfobject.createSWF({id:"_persist_flash",data:this.o.swf_path||"persist.swf",width:1,
height:1},s,"_persist_flash")}this.el=l.flash.el},get:function(a){a=m(a);return this.el.get(this.name,a)},set:function(a,b){a=m(a);return this.el.set(this.name,a,b)},remove:function(a){a=m(a);return this.el.remove(this.name,a)}}}};h=function(){var a,b,d=f;a=0;for(var h=e.length;a<h;a++)c.Store.prototype[e[a]]=g;c.type=null;c.size=-1;for(var h=0,n=d.length;!c.type&&h<n;h++)if(a=l[d[h]],a.test())for(b in c.type=d[h],c.size=a.size,a.methods)c.Store.prototype[b]=a.methods[b];c._init=!0};c={VERSION:"0.3.1",
type:null,size:0,add:function(a){l[a.id]=a;f=[a.id].concat(f);h()},remove:function(a){var c=b(f,a);0>c||(f.splice(c,1),delete l[a],h())},Cookie:q,Store:function(a,b){if(!d.exec(a))throw Error("Invalid name");if(!c.type)throw Error("No suitable storage found");b=b||{};this.name=a;b.domain=b.domain||location.hostname||"localhost";b.domain=b.domain.replace(/:\d+$/,"");b.domain="localhost"==b.domain?"":b.domain;this.o=b;b.expires=b.expires||730;b.path=b.path||"/";this.o.search_order&&(f=this.o.search_order,
h());this.init()}};h();return c}();
(function(c){function l(){var a,b,c;b=FTB.ad_units.length;FTB.ads.info&&(FTB.ads.info.on?(console.log("%c** Special Configuration **","Color:red; font-weight: bold;"),console.log("%cSetup on: ","font-weight: bold;",FTB.ads.info.on),console.log("%cProperties: ","font-weight: bold;",FTB.ads.info.config.join(", ")),console.log("%cUnitl: ","font-weight: bold;",FTB.ads.info.end||"-"),console.log("")):console.log("%c** NO Special Configuration **","Color:green; font-weight: bold;"));for(a=0;a<b;a+=1)c=
FTB.ad_units[a],console.log('googletag.defineSlot("6362370/'+c.unit_id+'", ['+c.sizes+'], "'+c.div_id+'").addService(googletag.pubads());'),c.disabled&&console.log("^--- DISABLED");b=FTB.ad_targeting?FTB.ad_targeting.length:0;for(a=0;a<b;a+=1)c=FTB.ad_targeting[a],console.log('googletag.pubads().setTargeting("'+c.name+'", "'+c.value+'");');console.log('googletag.pubads().set("page_url", "'+FTB.ads.page_url+'");');console.log("googletag.enableServices();")}function m(a){return s[a]?(h(s[a]),!0):!1}
function h(a){var b;a=a||{};a.rendered=!0;b=a.div_id&&$("#"+a.div_id);b.length&&(a.node=b,a.disabled?b.remove():googletag.cmd.push(function(){googletag.display(a.div_id)}))}function g(a){var b,c,d,f=[];c=FTB.ad_units.length;for(b=0;b<c;b+=1)d=FTB.ad_units[b],$("#"+d.div_id+":visible").length&&d.div_id===a&&f.push(d.unit);googletag.cmd.push(function(){googletag.pubads().refresh(f)})}function q(){var a,b,c,d=[];b=FTB.ad_units.length;for(a=0;a<b;a+=1)c=FTB.ad_units[a],$("#"+c.div_id+":visible").length&&
d.push(c.unit);googletag.cmd.push(function(){googletag.pubads().refresh(d)})}function b(a){a=a&&$.isArray(a)?a:e;var b=c.innerWidth||$w.width(),d,f=a.length,k;for(d=0;d<f;d+=1)k=a[d],b>k.range.min&&b<=k.range.max?(k.rendered||h(k),k.node.closest(".ad").addClass("active")):k.node.closest(".ad").removeClass("active")}function f(){if(FTB.delay_ads)return!0;if(c.srp&&srp.presrp_filter){var a=c.persist("rcq",{expires:2}),b=c.persist("fil-"+FTB.app_id,{expires:1});return a.get(FTB.app_id)||b.get("fcll:"+
c.location.pathname)||"true"===b.get("psf hide")?!1:!0}return!1}function d(){c.dataLayer=c.dataLayer||[];for(var a=0,b,d={},f=FTB.ad_targeting?FTB.ad_targeting.length:0,a=0;a<f;a+=1)b=FTB.ad_targeting[a],d[b.name]=b.value;d.mobile=750>$w.width()?"yes":"no";dataLayer.push(d)}var e=[],s={},a,k,r;if(FTB.ads){k=FTB.ad_units.length;for(a=0;a<k;a+=1)r=FTB.ad_units[a],r.manual?s[r.div_id]=r:(r.range.min=r.range.min||0,r.range.max=r.range.max||Number.MAX_VALUE,r.node=$("#"+r.div_id),e.push(r));c.ad_debug=
l;c.render_ad_unit=m;c.refresh_ad_units=q;c.refresh_ad_unit=g;var t=-1<navigator.userAgent.toLowerCase().indexOf("android");googletag.cmd.push(function(){var a,b,c;b=FTB.ad_units.length;for(a=0;a<b;a+=1)c=FTB.ad_units[a],t&&gatekeeper("disable-ads-android")&&0===c.unit_id.indexOf("M_")?$("#"+c.div_id).remove():c.unit=googletag.defineSlot("6362370/"+c.unit_id,c.sizes,c.div_id).addService(googletag.pubads());b=FTB.ad_targeting?FTB.ad_targeting.length:0;for(a=0;a<b;a+=1)c=FTB.ad_targeting[a],googletag.pubads().setTargeting(c.name,
c.value);googletag.pubads().set("page_url",FTB.ads.page_url);googletag.enableServices()});c.init_ads=function(){c.init_ads=$.noop;adq.push(function(){c.init_ads()})};(function(){d();f()?c.init_ads=function(){resize_debounce(b);b()}:(c.init_ads=$.noop,resize_debounce(b),b())})()}})(window);
(function(c,l){function m(h,g){var m,b,f;function d(d){c("body").addClass("nosel");var f=parseInt(w.obj.css(z),10);m=u?d.pageX:d.pageY;b="auto"==f?0:f;C?(l.ontouchmove=function(a){a.preventDefault();s(a.touches[0])},l.ontouchend=a):(c(l).bind("mousemove",s),c(l).bind("mouseup",a),w.obj.bind("mouseup",a).addClass("active"))}function e(a){if(1>n.ratio){a=a||window.event;v-=(a.wheelDelta?a.wheelDelta/120:-a.detail/3)*g.wheel;v=Math.min(n[g.axis]-t[g.axis],Math.max(0,v));w.obj.css(z,v/I.ratio);n.obj.css(z,
-v);if(g.lockscroll||v!==n[g.axis]-t[g.axis]&&0!==v)a=c.event.fix(a),a.preventDefault();g.update_func&&g.update_func();k()}}function s(a){1>n.ratio&&(f=g.invertscroll&&C?Math.min(B[g.axis]-w[g.axis],Math.max(0,b+(m-(u?a.pageX:a.pageY)))):Math.min(B[g.axis]-w[g.axis],Math.max(0,b+((u?a.pageX:a.pageY)-m))),v=f*I.ratio,n.obj.css(z,-v),w.obj.css(z,f),g.update_func&&g.update_func(),k())}function a(){c("body").removeClass("nosel");c(l).unbind("mousemove",s);c(l).unbind("mouseup",a);w.obj.unbind("mouseup",
a).removeClass("active");l.ontouchmove=l.ontouchend=null}function k(){if("x"!==g.axis){var a=-n.obj.position().top;a!==J&&(J=a,"top"!=F&&0===J?(M=r.find(".sx-shadow-top"),F="top",M.removeClass("on"),G.addClass("on")):"bot"!=F&&J+t.obj.height()===n.obj.height()?(F="bot",G.removeClass("on"),M.addClass("on")):"mid"!=F&&(F="mid",M.addClass("on"),G.addClass("on")))}}var r=h,t={obj:c(".sx-viewport",h)},n={obj:c(".sx-overview",h)},u="x"===g.axis,z=u?"left":"top",y=u?"Width":"Height",v=0;f=b=0;var I={obj:c(".sx-scrollbar"+
(u?"-x":""),h)},B={obj:c(".sx-track"+(u?"-x":""),I.obj)},w={obj:c(".sx-thumb"+(u?"-x":""),I.obj)};m=void 0;var C="ontouchstart"in l.documentElement,M=r.find(".sx-shadow-top"),G=r.find(".sx-shadow-bottom"),F="uninitialized",J=-999;this.update=function(a,b){t[g.axis]=t.obj[0]["offset"+y];n[g.axis]=n.obj[0]["scroll"+y];n.ratio=t[g.axis]/n[g.axis];I.obj.toggleClass("sx-disable",1<=n.ratio);1<=n.ratio&&G.hide();B[g.axis]="auto"===g.size?t[g.axis]:g.size;w[g.axis]=Math.min(B[g.axis],Math.max(0,"auto"===
g.sizethumb?B[g.axis]*n.ratio:g.sizethumb));I.ratio="auto"===g.sizethumb?n[g.axis]/B[g.axis]:(n[g.axis]-t[g.axis])/(B[g.axis]-w[g.axis]);v="relative"===a&&1>=n.ratio?Math.min(n[g.axis]-t[g.axis],Math.max(0,v)):0;v="bottom"===a&&1>=n.ratio?n[g.axis]-t[g.axis]:isNaN(parseInt(a,10))?v:parseInt(a,10);var c=y.toLowerCase();w.obj.css(z,v/I.ratio);b?n.obj.stop().animate({top:-v+"px"}):n.obj.css(z,-v);m=w.obj.offset()[z];I.obj.css(c,B[g.axis]);B.obj.css(c,B[g.axis]);w.obj.css(c,w[g.axis])};this.update();
(function(){C?t.obj[0].ontouchstart=function(a){1===a.touches.length&&(d(a.touches[0]),a.stopPropagation())}:(w.obj.bind("mousedown",d),B.obj.bind("mouseup",s));g.scroll&&window.addEventListener?(r[0].addEventListener("DOMMouseScroll",e,!1),r[0].addEventListener("mousewheel",e,!1)):g.scroll&&(r[0].onmousewheel=e);g.hide_until_hover&&t.obj.parent().addClass("sx-scrollbar-hover");k()})();return this}c.tiny=c.tiny||{};c.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!1,size:"auto",sizethumb:"auto",
invertscroll:!1,update_func:!1,hide_until_hover:!0}};c.fn.tinyscrollbar=function(h){var g=c.extend({},c.tiny.scrollbar.options,h);this.each(function(){c(this).data("tsb",new m(c(this),g))});return this};c.fn.tinyscrollbar_build=function(h){c.extend({},c.tiny.scrollbar.options,h);this.each(function(){var g=c(this),l=g.children().detach();g.addClass("sx-scrollbar-wrapper").html('<div class="sx-scrollbar-x"><div class="sx-track-x"><div class="sx-thumb-x"><div class="end"></div></div></div></div><div class="sx-scrollbar"><div class="sx-track"><div class="sx-thumb"><div class="end"></div></div></div></div><div style="height:0"><div class="sx-shadow-top"></div></div><div class="sx-viewport"><div class="sx-overview"></div></div><div style="height:0"><div class="sx-shadow-bottom"></div></div>').find(".sx-viewport").css({"min-height":g.height()}).find(".sx-overview").append(l);
g.tinyscrollbar(h)});return this};c.fn.tinyscrollbar_update=function(h,g){return(c(this).data("tsb")||{update:function(){}}).update(h,g)}})(jQuery,document);
(function(c){var l;jQuery.dialog=function(m,h,g,q){if(!1===m)l&&l.hide();else{q=q||{};g=g||[];var b=g.length,f,d,e,s;h='<div id="msg"><div class="dlg-title"><span class="dlg-span">'+m+'</span></div><div class="dlg-message">'+h+"</div>";if(b){h+='<div class="dlg-buttons">';for(m=0;m<b;m+=1)d=["stnd-btn"],f=g[m],f.id=m,0===m?d.push("first"):m+1===b&&d.push("last"),"red"===f.color||0<=f.name.toLowerCase().indexOf("delete")?(e=m,d.push("bg-red")):"cancel"!==f.name.toLowerCase()&&d.push("bg-blue"),h+=
'<div class="'+d.join(" ")+'" id="dlg-btn-'+m+'">'+f.name+"</div>";h+="</div>"}var a=new Box({html:h+"</div></div>",animate:q.animate&&!c.is_IE,overflow:q.overflow,onclose:function(){s&&$(document).off("keypress",s);q.onclose&&q.onclose.call(void 0)}});l=a;e&&(s=function(a){13===a.which&&$("#dlg-btn-"+e).click()},$(document).on("keypress",s));if(b)for(h=function(){a.hide()},m=0;m<b;m+=1)$("#dlg-btn-"+m).click(g[m].func||h);return a}};jQuery.err=function(){$.dialog("Woah!","An error occurred. Sorry about that, please try again later.")}})(window);
(function(c,l){function m(){if(this&&this.href){var b={},f=/[\/\.](amzn|amazon)\.[a-zA-Z]{2}.*\/([a-zA-Z0-9]{10})(?:[/?]|$)/.exec(decodeURIComponent(this.href));f?(b.type="amazon_buy",b.asin=f[2]):0<=this.href.indexOf("pgpartner")&&(b.type="pricegrabber_buy");$.ajax({url:"http://"+c.location.host+"/track_stat",data:$.extend({type:"other_buy",url:c.location.href},b)})}}function h(b){var f=FTB.app_id;if(!b||!f)return null;var d=c.location.href.split("/")[4]||"",e="";switch(b){case "srp":case "comp":e+=
f;break;case "detail":case "qa":e=e+f+(d?"-"+d:"")}f=decodeURIComponent(c.get_cookie("ftb_visits"));b={};if(f="null"===f?void 0:f){b=f.split(":");f=b.indexOf(e);-1!==f&&b.splice(f,1);if(10<=b.length)for(f=b.length;10<=f;f--)b.shift();f=b.join(":")}f&&e?f=e+":"+f:e&&(f=e);f&&c.set_cookie("ftb_visits",f,8760)}var g=$d,q=$w;ux_gaq=function(b,c){"undefined"==typeof b&&(b="");"undefined"==typeof c&&(c="");var d="other_page",e=$("body");e.hasClass("detail")?d="Detail Page":e.hasClass("compare")?d="Side-by-side Page":
e.hasClass("srp")&&(d="SRP");EVT([d,b,c,0,!1])};MSG=function(){var b,c;return function(d,e,g,a,k){if(!1===d&&b)b.hide();else if(e=e||"orange",g=g||5E3,b||(b=$('<div id="quick-msg">').appendTo("body")),b.html(d).css({"margin-left":-b.outerWidth()/2,top:a&&"middle"===a?"50%":10}).attr("class",e).stop().fadeIn(200),clearTimeout(c),-1!==g)c=setTimeout(function(){b.fadeOut(1E3)},g);else{var h=$("<div>").css({position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"#333",opacity:0.7,zIndex:1E5}).addClass("ftb-spin-back-msg");
$("body").prepend(h);$(".ftb-spin-back-msg, #close").click(function(){b.fadeOut(500);h.fadeOut(500);k.call(void 0)})}}}();(function(){function b(b){clearTimeout(h);clearTimeout(l);h=setTimeout(function(){a(b)},300)}function c(){n||(clearTimeout(h),clearTimeout(l),l=setTimeout(k,120))}function d(a){$(this).hasClass("info-icon")?(cancelEvent(a),clearTimeout(l)):(n=!1,c())}function e(){clearTimeout(l);n=!0}function g(){n=!1;c()}function a(b){var c=$(b.currentTarget),d=a.$tip=a.$tip||$('<div class="tip-body"/>').appendTo("body"),
f=c.find(".tip"),k=c.data("style"),f=f.text(),h=f.length,n=c.offset(),l=b.clientX;b=q.width();var m=q.height(),h=Math.min(260+h/5>>0,Math.max(b-l,l)-40),l=n.top+c.outerHeight()+8,c=n.left+c.outerWidth()/2-25;d.hover(e,g);d.text(f).removeClass("right bottom dark").css({maxWidth:h,top:l,left:c});k&&d.addClass(k);d.outerWidth()+c-q.scrollLeft()>b&&d.addClass("right").css({left:c-d.outerWidth()+50});d.outerHeight()+l-q.scrollTop()>m&&d.addClass("bottom").css({top:l-d.outerHeight()-30});d.fadeIn(200)}
function k(){a.$tip&&a.$tip.fadeOut(200)}var h,l,n=!1;applyTips=function(a){(a&&a.jquery?a.find(".tip"):"string"===typeof a?$(a+" .tip"):$(".tip")).quickEach(function(){var a=this.parent();a.data("_tip")||a.hover(b,c).click(d).data("_tip",1)})}})();get_gaq_page_type=function(){switch(FTB.page_type){case "srp":return"SRP";case "detail":return"Detail Page";case "comp":return"Side-by-side Page";case "qa":return"Questions Page";case "serp":return"SERP";default:return"Other"}};get_breadcrumb_level=function(b,
c){if("level-1"===c)c="Home";else switch(b){case "srp":c="Category";break;case "detail":case "serp":case "comp":"level-2"===c?c="Category":"level-3"===c&&(c="Topic");break;case "qa":"level-2"===c?c="Category":"level-3"===c?c="Topic":"level-4"===c&&(c="Listing")}return c};tipify=function(b,c){b='<span class="tip-label">'+b+"</span>";return c?'<span class="has-tip">'+b+'<div class="tip">'+c+"</div></span>":b};miniShare=function(b,f){b=b.jquery?b:$(b);f=f||{};if(b[0]){var d=c.location.pathname,e=f.url||
"http://"+c.location.host.replace(".dw.com",".findthebest.com")+("/"!==d?d:""),d=f.title||l.title,g=f.img_link||"",a=encodeURIComponent(e),k=encodeURIComponent(d),h=encodeURIComponent(g),m=f.body||"I thought you might be interested in this info from "+FTB.net_name+": "+a;b.off("click",".shr, .shr-button");b.on("click",".shr, .shr-button",function(){var b,d=!1,q=$(this).attr("class").split(" "),q=1<q.length?q[1].substr(4):"";switch(q){case "facebook":gatekeeper("Social Sharing")?(load_fb_js(function(){FB.ui({method:"feed",
name:f.title||l.title,link:e,picture:g,caption:""},function(a){if(a&&a.post_id){a=a.post_id.split("_");var b="";a[0]&&a[1]&&(b='<a target="_blank" href="http://www.facebook.com/permalink.php?id='+a[0]+"&v=wall&story_fbid="+a[1]+'">View</a>');MSG("Posted to Facebook successfully. "+b,"green")}else a.login_url?c.location.href=a.login_url:MSG("Oops. There was an issue - Facebook share failed","red")})}),d=!0):b=h?"https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+a+"&p[images][0]="+h+"&p[title]="+
k+"&p[summary]="+m:"https://www.facebook.com/sharer/sharer.php?u="+a;break;case "twitter":b="https://twitter.com/share?url="+a+"&text="+k+"&via=FindTheBest"+(FTB.partner_tweet?" and "+FTB.partner_tweet:"");break;case "googleplus":b="https://plus.google.com/share?url="+a+"&t="+k;break;case "email":b="mailto:?subject="+k+"&body="+m}EVT(["Social Buttons",q,f.source||FTB.page_type,0,!1]);d||c.open(b,"myWindow","status = 1, height = 500, width = 360, resizable = 0")})}};go_soon=function(b,f){b=$(b);var d=
b.attr("data-href")||b.attr("href");if(!d||"java"===d.substr(0,4)&&!b.attr("data-href")||"_blank"===b.attr("target"))return!0;if(f&&(1===f.button||f.ctrlKey||f.metaKey)&&"java"!==d.substr(0,4))return c.open(d),cancelEvent(f),!1;setTimeout(function(){c.location=d},c.go_soon_timeout||100);return!1};print_all=function(b){for(var c=0;c<b.length;c++)console.log(b[c])};format_number=function(b,c){var d=-1<c.indexOf(",");b=parseFloat(b);var e=c.replace(/[^\d\.\-]/g,"").split(".");b=1<e.length?b.toFixed(e[1].length):
b.toFixed(0);var g=!1;0>b&&(g=!0,b*=-1);var a=b.toString();if(d){for(var e=a.split("."),d=e[0],a=[],k=d.length,h=d.length%3||3,l=0;l<k;l+=h)0!==l&&(h=3),a[a.length]=d.substr(l,h);a=a.join(",");e[1]&&(a+="."+e[1])}g&&(a="-"+a);return c.replace(/[\d,?\.?]+/,a)};FTB.full_site_spin=function(b){var c=$("<div>").css({position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"#333",opacity:b?0:0.7,zIndex:99999}).addClass("ftb-spin-back"),d=$("<div>").css({opacity:b?0:1,position:"fixed",top:"50%",
left:"50%",zIndex:999999}).addClass("ftb-spin");$("body").prepend(c,d);b&&c.add(d).animate({opacity:0.7},200);try{d.spin()}catch(e){console.log("fuck you ie")}};FTB.remove_site_spin=function(b){var c=$(".ftb-spin, .ftb-spin-back");b?c.fadeOut(200,function(){$(this).remove()}):c.remove()};FTB.reload=function(b,f){var d;FTB.full_site_spin();b?c.location="http://"+c.location.host+c.location.pathname+(f?"?"+f:""):f?(d=c.location.href.replace(c.location.hash,""),f=-1===d.indexOf("?")?"?"+f:"&"+f,c.location.href=
d+f):c.location.reload()};FTB.go_to=function(b,f,d,e){var g=function(){e=e||700;f=f||FTB.go_to._offset;if(1===b.length&&b.is(":visible")){var a=b.offset().top;$("html, body").animate({scrollTop:a-(f?-f:20)},e);q.scroll();d&&(setTimeout(function(){b.animate({opacity:0.7},200)},600),setTimeout(function(){b.animate({opacity:1},100)},800));return!0}};return c._sqrl_run&&!FTB.go_to._first?(FTB.go_to._first=!0,c._sqrl_run(function(){setTimeout(g,350)})):g()};FTB.simple_hash=function(b,c){b=b.toString();
var d=0;if(0===b.length)return d;for(var e=0;e<b.length;e++)var g=b.charCodeAt(e),d=(d<<5)-d+g,d=d&d;c&&(d+=FTB.simple_hash(c.toString()));return Math.abs(d)};FTB.get_session=function(){if(c.get_cookie)return c.get_cookie("ftb_session_id")||c.set_cookie("ftb_session_id",FTB.simple_hash(_.now(),62*Math.random()),24),c.get_cookie("ftb_session_id")};FTB.get_session();send_reviews_email=function(b){$.get("/ajax_send_reviews_email",{scope:b})};c.escapeRegExp=function(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")};c.embed=function(b){BOX.show({html:'<div id="widget-designer"></div>',bg:"transparent",overflow:"hidden"});var c=function(){FTB.WD.init("#widget-designer",$.extend({app_id:FTB.app_id},b))};FTB.WD?c():FTB.lazy("widget_designer",c)};c.setup_placeholders=function(){void 0===l.createElement("input").placeholder&&$("[placeholder]").each(function(){var b=$(this),c;b.val()||("password"===b.attr("type")?(b.before("<div class='password-ph placeholder'>"+b.attr("placeholder")+"</div>"),c=b.parent().find(".password-ph"),
c.on("click",function(){b.focus()}),b.on("keyup blur",function(){""!==b.val()?c.css("display","none"):c.css("display","block")})):b.focus(function(){b.val()===b.attr("placeholder")&&b.val("").removeClass("placeholder")}).blur(function(){""!==b.val()&&b.val()!==b.attr("placeholder")||b.addClass("placeholder").val(b.attr("placeholder"))}).val(b.attr("placeholder")).addClass("placeholder"))})};c.cleanup_placeholders=function(){void 0===l.createElement("input").placeholder&&$("[placeholder]").each(function(){var b=
$(this);b.val()==b.attr("placeholder")&&b.val("")})};(function(){var b=get_gaq_page_type();g.on("click",".purchase_button",m).on("vclick",".bread-wrap .bread",function(c){var d=$(this),e="";-1<d.attr("class").indexOf("level")&&(e=d.prop("class").match(/level-([0-9]+)/)[0]);e=get_breadcrumb_level(FTB.page_type,e);EVT([b,"Click breadcrumbs",e,0,!1]);return EVT(["Breadcrumb",d.text(),$(this).attr("href"),0,!1],this,c)}).on("vclick",".snippet .show-more",function(b){$(this).closest(".snippet").addClass("show-full-snippet")});
track_click("#embed_butt","Social Embed Button Click","uid: "+FTB.user.uid);track_click("#search_input","Search Bar","Clicked into input",b);track_click("a.my-account","Profiles","Linked from header");track_click("a.profile-edit","Profiles","Profile Edit");track_click("a.user-submissions","Profiles","Linked from pending review page");track_click("a.goto-sponsorship","Info Pages","Link to sponsorships from add/edit pending page");FTB.app_id&&miniShare("#share_buttons")})();$(function(){var b=c.location.href;
"/"===c.location.pathname&&"/#"===b.substr(b.length-2)&&"function"===typeof history.replaceState&&history.replaceState({},"","/");g.on("vclick",".fs-window",function(b){cancelEvent(b);b=$(this);var c=b.closest(".fs-wrap");c.hasClass("fs-open")?c.removeClass("fs-open"):(c.addClass("fs-open"),c.hasClass("fs-noresize")||c.find(".fs-opts").css({minWidth:b.width(),width:"auto"}));g.one("vclick",function(){c.removeClass("fs-open")})}).on("vclick",".fs-opt",function(){var b=$(this),c;b.hasClass("fs-selected")||
(c=b.closest(".fs-wrap"),b.sibClass("fs-selected"),c.find(".fs-val").text(b.text()),c.trigger("fs-change"))}).on("copy",function(){EVT([get_gaq_page_type(),"Copied to Clipboard","",0,!1])});g.on("focus blur","input, textarea",function(b){g.find("body").toggleClass("no-floating",/in/.test(b.type))});FTB.app_id&&gatekeeper("Social Sharing")&&$("#fb-like-share").sqrl(function(){$(this).addClass("fb-like");load_fb_js()},-500);h(FTB.page_type)});(function(){function b(){d.removeClass("menu-open menu-cat menu-search menu-user menu-list");
$("#p-account-list-m").removeClass("menu-open-m menu-user-m");l.activeElement.blur();$("#search_input").blur()}function f(a,c,e){var f=$("#p-account-list-m");cancelEvent(c);e?(c=f.hasClass("menu-user-m"),b(),c||f.addClass("menu-open-m menu-user-m")):(c=d.hasClass("menu-"+a),b(),c||d.addClass("menu-open menu-"+a));return!c}var d=$("#p-header"),e=get_gaq_page_type();d.length||(d=$("#primary"));var h=_.once(function(){EVT([e,"Clicked on User Profile - Desktop","",0,!1])});d.on("vclick","#p-sign-in, #p-sign-in-m",
function(a){EVT([e,"Clicked Sign In","",0,!1]);cancelEvent(a);FTB.show_login();b()}).on("vclick","#p-join, #p-join-m",function(a){EVT([e,"Clicked Join","",0,!1]);cancelEvent(a);FTB.show_registration();b()}).on("vclick","#mob-menu-tog, #p-menu",function(a){if(!gatekeeper("Flyout Nav")&&f("cat",a)){toggle_cat_menu();var b=$(this).text().trim()||"";EVT([e,"Clicked on Browse Categories",b,0,!1]);cancelEvent(a)}}).on("vclick","#mob-search-tog",function(a){f("search",a);$("#p-header").hasClass("menu-open")&&
$("#search_input").focus()}).on("vclick",".my-account-menu",function(a){h();f("user",a)}).on("vclick",".my-account-menu-list",c.stopProp).on("vclick","#user_list",function(a){f("list",a)}).on("vclick","#p-logo",function(a){EVT([e,"Click FindTheBest Logo","",0,!1])}).on("vclick",".user-list-drop",c.stopProp);g.on("vclick",".section-title",function(a){cancelEvent(a);$(this).parent().toggleClass("open")}).on("vclick","#saved_searches > ul > li",function(){EVT([e,"Footer Links","Popular Searches",0,!1])}).on("vclick",
"#pop_related_searches > ul > li",function(){EVT([e,"Footer Links","Related Comparisons",0,!1])}).on("vclick",".directory_links a",function(){EVT([e,"Footer Links","Directories",0,!1])}).on("vclick",".tab",function(){var a=$(this);EVT([e,"Clicked Tabs",a.text().trim(),0,!1])}).on("vclick",".bread-wrap",function(a){a.originalEvent._menuClick=1}).on("vclick",function(a){!a.originalEvent._menuClick&&d.hasClass("menu-open")&&0===$(a.target).closest("#p-searchbar").length&&b()}).on("vclick",".ft-flag.current",
function(){$(".ddb.footer").toggle()}).on("vclick","#mob-footer-tog",function(a){cancelEvent(a);$("#footer").toggleClass("open");q.scrollTop($("#footer").offset().top)});$(".my-account-menu").on("click",".popup_login_dlg",function(){FTB.show_login()}).on("click",".login_join",function(){FTB.show_registration()})})();$d.on("vclick",".f-collapse",function(){$(this).toggleClass("f-open")})})(window,document);
(function(c,l){function m(a,b){var d=[],e=[],k=[];a=a instanceof Array?a:[a];c.each(a,function(a,b){r[b]?(b=q(b),e=e.concat(b.js),k=k.concat(b.css),e.length&&(d=d.concat(b.def))):n.test(b)?e.push(b):u.test(b)&&k.push(b)});var d=d.concat(h(f(k),"css"),h(f(e),"js")),g=c.when.apply(c,d);b&&g.done(function(){b(!0)}).fail(function(){b(!1)});return g}function h(a,b){var d=[],e="js"===b;c.each(a,function(a,f){f=g(f,b);if(!k[f]){var h=f+(/\?/.test(f)?"&":"?")+"_v="+s.js_ver;k[f]=c.ajax({url:h,dataType:e?
"script":"text",cache:!0,success:e?c.noop:function(a){c('<style type="text/css">'+a+"</style>").appendTo("head")}})}d.push(k[f])});return d}function g(b,c){if(y.test(b))return b;!t&&!z.test(b)&&0>b.indexOf(a)&&(b=b.replace(RegExp("."+c+"$"),".ftb.min."+c));return"/"+b}function q(b){var c=r[b],e=c.core;b=c.js||[];var f=c.css||[],k=c.def||[],g=c.deps;if(c.flag&&d(c.flag))return{js:[],css:[],def:[]};e&&(t?(b.push("ajax_get_core_script?type=js&name="+e),f.push("ajax_get_core_script?type=css&name="+e)):
(b.push("rx/"+e+"."+a+".js"),f.push("rx/"+e+"."+a+".css")));if(g)for(var c=0,e=g.length,h;c<e;c++)h=q(g[c]),b=h.js.concat(b),f=h.css.concat(f),k=h.def.concat(k);return{js:b,css:f,def:k}}function b(a){var b=c.Deferred();l[a]=b.resolve;return b}function f(a){return c.grep(a,function(b,d){return c.inArray(b,a)===d})}function d(a,b){for(var c=a.split("."),d=c.pop(),e=l;c.length;)e=e[c[0]]=e[c[0]]||{},c.splice(0,1);return b?e[d]=b:e[d]}function e(a,b){var c,e=d(b,function(){var f=this,k=arguments;m(a,
function(){(c=d(b))&&c!==e&&c.apply(f,k)})})}var s=l.FTB||{},a=s.js_ver||"",k={},r=s.lazy_items,t=!!s.IS_LOCAL;/^emp\./.test(a);var n=/\.js$/i,u=/\.css$/i,z=/\.ftb\.min\./i,y=/^(\/\/|https?:)/i;c.each(r||[],function(a,d){c.each(d.stub||[],function(){e(a,this)});d.def&&(d.def=[b(d.def)])});s.lazy=m})(jQuery,window);
(function(c,l){function m(){$("#all-cat-menu-body table").hide();$("#all-cat-menu-body table.set").show();$(".cat_header").css("z-index",100);setTimeout(function(){$(l).one("vclick",h)},1)}function h(){$(".cat_header").css("z-index",95)}function g(){b.append('<div id="all-cat-menu" class="thm-bb thm-bt"><div id="all-cat-menu-wrap"><table id="all-cat-menu-head"></table><div id="all-cat-menu-body"></div></div></div>');$("body").css("cursor","progress");$.getJSON("/ajax_get_cat_json",function(c){$("body").css("cursor",
"");q(c);$("#all-cat-menu-head td").each(function(){var b=$(this).attr("class").substr(0,3);$(this).mouseover(function(){$("#all-cat-menu-head td").removeClass("set");$("#all-cat-menu-body table").hide().removeClass("set");$("#all-cat-menu ."+b).addClass("set").show()})});$("#all-cat-menu-body table.set").length||$("#all-cat-menu .Bus").addClass("set");b.data("init",!0);m()})}function q(b){var c="",a="",d=b.cats;b=b.tld;var f,g,h,l,m,q;for(l in d)if(d.hasOwnProperty(l)){f=l.substr(0,3);g=d[l].apps;
(q=d[l].shortname)||(q=l);m="http://www"+b+"/category/"+l.replace(/&/g,"And").replace(/ /g,"-");c+="<td class='"+f+"'><div class='cat-name-lnk' data-href='"+m+"'>"+q+"</div></td>";a+="<table class='"+f+"'><tbody><tr><td class='first'>";a+="<span class='cat-title'>"+q+"</span><div class='img'></div><div class='see-all'><a href='"+m+"'>Show all <span class='rsaquo'>&rsaquo;</span></a></div></td>";a+="<td class='listings'><ul>";for(h in g)g.hasOwnProperty(h)&&(a+="<li><span class='rsaquo'>&rsaquo;</span><a class='app_lnk cat_app_lnk' rel='nofollow' href='"+
g[h]+"'>"+h+"</a></li>");a+="</ul></td></tr></tbody></table>"}$("#all-cat-menu-head").html(c);$("#all-cat-menu-body").html(a)}var b=$("#p-cat-drop"),f=get_gaq_page_type();$("#related_cat_button, #newest_app_button").on("click",function(b){if(!$(b.target).is("a")){cancelEvent(b);var c=$(this).find(".cat_related_list");c.is(":visible")?c.slideUp(100):(h(),c.slideDown(100));$(l).one("click",function(a){c.slideUp(100)})}});b.on("click",".see-all a",function(b){EVT([f,"Click Browse Dropdown","Show all",
0,!1]);return go_soon(this,b)}).on("vclick","a.cat_app_lnk",function(b){cancelEvent(b);EVT([f,"Click Browse Dropdown","Comparison",0,!1]);return go_soon(this,b)}).on("vclick",".cat-name-lnk",function(b){cancelEvent(b);EVT([f,"Click Browse Dropdown","Product Page",0,!1]);return go_soon(this,b)});$("#related_cat_button").click(function(b){ux_gaq("Clicked Related Menu");return go_soon(this,b)});var d=function(){!1===b.data("init")?g():b.find("#all-cat-menu").is(":visible")?h():(ux_gaq("Clicked All Categories Menu"),
m(),$(".cat_related_list").slideUp(200))};$("#all-cat-button").on("click",function(b){stopProp(b);d()});c.toggle_cat_menu=d;$("a.related-link").click(function(b){_gaq.push(["_trackEvent","Outbound Links - Related",c.location.host,$(this).attr("href")])})})(window,document);
(function(c){var l=$(c),m=$("#search_input, .search-text"),h=$("#searchbar-dropdown, .s-results-list"),g,q,b=[],f,d,e,s=!0,a,k,r,t=!1,n=get_gaq_page_type(),u,z,y,v;h.html("<div class='sd-js'></div><div class='sd-php'></div><div class='sd-site'></div><div class='sd-wait'></div>");y=function(a){return"/site_search/"+a};$(".ss_but").on("vclick",function(a){cancelEvent(a);var b=m.val();b&&(_gaq.push(["_trackEvent","Search Bar","Search Using Button",b]),EVT([n,"Click Into Search Bar","Search by clicking",
0,!1]),setTimeout(function(){c.location=y(b)},150))});h.on("click",".s-res",function(a){var c=$(this),d=c.attr("data-cid"),f=c.attr("href");EVT([n,"Search Dropdown",c.closest(".s-sec").find(".s-sec-label").text(),0,!1]);d?(_gaq.push(["_trackEvent","Search Bar","Callback",c.find(".r-res-label").text()]),b[d].c(b[d].d)):f&&EVT(["Search Bar","Link",c.find(".r-res-label").text(),0,!1],c,a);m.val("");q=void 0;h.find(".sd-js, .sd-php, .sd-site").html("");h.hide()});v=function(a){a=a.jquery?a:$(a);g&&g.removeClass("s-selected");
a.addClass("s-selected");g=a};u=function(a,c){a=a||[];var k,e=a.length,l="",m,n,r,u,s,v;for(k=0;k<e;k+=1){m=a[k].emp_only?" s-sec-emp":"";l+="<div class='s-sec"+m+"'><div class='s-sec-left'><div class='s-sec-label'>"+a[k].label+"</div></div><div class='s-sec-right'>";r=a[k].results;n=r.length;for(m=0;m<n;m+=1)s=r[m].des?"<span class='r-res-desc'>"+r[m].des+"</span>":"",v="",r[m].img&&(v="<span class='r-res-img-wrap'><img src='"+r[m].img+"' class='r-res-img'/></span>"),r[m].callback?(b.push({c:r[m].callback,
d:r[m].data}),u=b.length-1,l+="<div class='s-res' data-cid='"+u+"'>"):r[m].url&&(l+="<a class='s-res' href='"+r[m].url+"' >"),l+=""+v+"<span class='r-res-label'>"+r[m].label+"</span>"+s,l+=r[m].callback?"</div>":"</a>";l+="</div></div>"}l?("js"===c&&(f=!0,h.find(".sd-js").html(l)),"php"===c&&(d=!0,h.find(".sd-php").html(l)),t&&h.show(),g&&g.removeClass("s-selected"),q=h.find(".s-res"),g=h.find(".s-res:first").addClass("s-selected")):("js"===c&&(f=!1,h.find(".sd-js").html("")),"php"===c&&(d=!1,h.find(".sd-php").html("")),
f||d||h.hide())};m.on("blur",function(){t=!1;e||(e=setTimeout(function(){e=!1;h.find(".sd-wait").html("");h.hide()},200))}).on("focus",function(){var a=$(this).val().length;t=!0;e&&clearTimeout(e);h.find(".sd-wait").spin();q&&q.length&&(a?h.show():($(".search-text").val(""),$(".np-searchbar-dropdown").html("").hide()))}).on("keydown",function(a){var b,d;if(13===a.keyCode)b=m.val()||$(this).val(),!g||!g.length||2>b.length?b&&(c.location=y(b)):(_gaq.push(["_trackEvent","Search Bar","Search Via Enter",
q[0]===g[0]?"First":"Other"]),g.click()),$(this).blur(),EVT([n,"Click Into Search Bar","Search with enter",0,!1]),cancelEvent(a);else if(q)if(38===a.keyCode){d=q.length;for(b=0;b<d;b+=1)if(q.eq(b).is(".s-selected")){0===b&&(b=d);b--;v(q.eq(b));break}cancelEvent(a)}else if(40===a.keyCode){d=q.length;for(b=0;b<d;b+=1)if(q.eq(b).is(".s-selected")){b===d-1&&(b=-1);b++;v(q.eq(b));break}cancelEvent(a)}}).on("keyup",function(a){if(!(8<a.keyCode&&47>a.keyCode&&32!==a.keyCode)){b=[];a=$(this).val();var c=
{val:a,regex:RegExp("("+escapeRegExp(a)+")","i"),results:[]};2>a.length?(r=+new Date,f=d=!1,u()):(h.find(".sd-wait").show(),z(a,c),c.results.push({label:"Search",results:[{label:"Search  for <b>"+a+"</b>",url:y(a)}],weight:-1E3}),l.trigger("searchbar",c),console.log(c),h=$(this).siblings(".s-results-list"),u(c.results,"js"))}});z=function(b,c){k=b;a||(a=!0,setTimeout(function(){var b=+new Date;a=!1;$.getJSON("/ajax_search_bar",{s:k,pt:FTB.page_type},function(a){c.php_results=[];if(!(b<r)&&(r=b,h.find(".sd-wait").hide(),
a.sections)){var d,f=a.sections.length;for(d=0;d<f;d+=1)c.php_results.push(a.sections[d]);u(c.php_results,"php")}})},s?1:350));s=!1}})(window);
(function(c,l,m,h){function g(m){function b(a){"distance"!==a._sortfld||c.grep(a._fil,function(a){return 0===a.indexOf("_location")}).length||(a._sortfld="");0===(a._sortfld||"").indexOf("_random_srp_sort")&&(a._sortfld="");return a}function f(a,b,c){if(-1===I)return"";var d="",f=parseFloat(k[a][n._avg_rating]);a=~~k[a][n._num_ratings||n._num_reviews];var g="user "+(n._num_reviews?"review":"rating");if(!a)return"";d+='<div class="srp-rating-container-wrap"><span class="ur-star-container clearfix">';
f&&(d+='<span class="ur-avg small">'+round(f,1).toFixed(1)+"</span>");c=c||"small";var e;switch(!0){case 3.5<f:e=" green";break;case 1.5<f:e=" yellow";break;case 0<f:e=" red";break;default:e=""}c='<div class="rating-container stars '+c+'"><div class="rating-bar'+e+'" style="width:'+f/5*100+'%"></div><div class="rating-bar-back js-stared"></div>';for(f=1;6>f;f+=1)c+='<span data-star="'+f+'" class="star">',c+='<span class="spr star-icon"></span><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span>',
c+="</span>",5>f&&(c+='<span data-star="'+f+'" class="spacer"></span>');d+=c+"</div>";d+='<div class="span-layer ur-num-wrap">';d+='<span class="s-layer ur-num-rate">';d=b?d+("("+a+")"):d+(a+" "+tt(g+(1!==a?"s":"")));d+="</span>";d+='<span class="s-layer ur-num-rate-swap"></span>';d+="</div>";d+="</span>";return d+="</div>"}var d=this,e=m.app_id>>0,s=m.parent_app_id>>0,a=m.base_url||"",k,r,t,n,u,z,y=-1,v=-1,I=-1,B=l.viz,w={},C=d.images={},M={},G=[],F=m.default_img||"mountain",J,T,L,N,E,P=m.title_link_template,
S=m.item_ids,p=d.num_sponsorships=m.num_sponsorships>>0;d.geo_sponsorships=m.geo_sponsorships;var X=d.sponsored_comp=0<p,x=d.sponsored_ids=[];d.tpl="";d.app_id=e;d.add_callback=function(a){for(var b=0;b<G.length;b++)if(G[b]===a)return;G.push(a)};d.remove_callback=function(a){for(var b=0;b<G.length;b++)if(G[b]===a){G.splice(b,1);break}};d.ajax=function(a){a=a||{};var f="/ajax_search"+(X&&!a.no_sponsored?"_sponsored":""),k=a.head||t,l=a.sort_field!==h?a.sort_field:J;"distance"!==l||a.hide_distance||
k.push("distance");k={_len:a.items_per_page||N,page:a.page>>0,app_id:e,_sortfld:l,_sortdir:a.sort_dir!==h?a.sort_dir:L,_fil:a.filters||[],_tpl:d.tpl,head:k,dir_field_1:FTB.dir_field_1||""};d.srp_template&&(k.srp_template=d.srp_template);d.srp_template_adv&&(k.srp_template_adv=d.srp_template_adv);a.bound_box&&(k.bound_box=a.bound_box);a.force_geo&&(k.force_geo=a.force_geo);a.map_sort_only&&(k.map_sort_only=a.map_sort_only);S&&(k.item_ids=S);k=b(k);d.ajax.pending++;c.getJSON(f,k,function(b){d.ajax.pending--;
if("ok"===b.status||!d.ajax.pending)if(!a.pre_update||!1!==a.pre_update(b))if("distance"===l&&g.promote_location_match&&g.promote_location_match(b.data,a.filters,z),d.update(b),a.callback)a.callback(b);else for(var c=0;c<G.length;c++)G[c](b)})};d.ajax.pending=0;d.sort=function(a,b){a=~~a;b=b||{};T===a?L="ASC"===L?"DESC":"ASC":(T=d.sort_index=a,L="-1"===r[a].high_good?"ASC":"DESC");d.sort_dir=L;J=d.sort_field=t[T];b.no_sponsored=!0;d.ajax(b)};d.change_page=function(a,b){b=b||{};"prev"===a?a=E?E-1:
0:"next"===a&&(a=(E+1)*N<d.recs?E+1:E);a!==E&&(b.page=a,d.ajax(b))};d.get_cell=function(a,b,d,f){var e=c.trim(k[a][b]),g=r[b],h=g.control_type,l=!isNaN(e)&&-1===["text","zipcode"].indexOf(g.data_type);if(""===e&&"smart-rating"!==g.visual_type&&"pyramid"!==g.visual_type)e=g.empty_value||"";else if("img"===g.data_type||"iurl"===g.data_type)e=H(a,"t",b),e='<div class="-i-wrap"><img alt="'+e.alt+'" class="-i-" src="'+e.src+'"/></div>';else if(w[t[b]])e=w[t[b]](a,b);else if("cb"===h)e=B.display("yesno",
e);else if("phone"===g.data_type)d=e,e=e.replace(/[^\d]*/g,""),e=10==e.length?e.replace(/(\d{3})(\d{3})(\d{4})/g,"($1) $2-$3"):7==e.length?e.replace(/(\d{3})(\d{4})/g,"$1-$2"):11==e.length?e.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/g,"$1-$2-$3-$4"):d;else if(g.visual_type&&!f){if(""!==e||"smart-rating"===g.visual_type||"pyramid"===g.visual_type)e=B.display(g.visual_type,e,d,g)}else if("list"===h){"^"===e[e.length-1]&&(e=e.substr(0,e.length-1));d=e.split(/\^/);e='<div class="item-row-list"><ul>';for(f=
0;f<d.length;f++)d[f].length&&(e+="<li "+(3<f?'class="noshow" style="display:none;"':"")+">"+d[f]+"</li>");e+="</ul>";4<f&&(e+='<span class="more-list link"><span class="rsaquo">&rsaquo;</span> More</span>');e+="</div>"}else"url"===g.data_type?(d=e,f=null,0<d.length&&(0!==d.indexOf("http")&&(d="http://"+e),e=/(?:https?:\/\/)?(www\.)?([^\/]+)/.exec(d),null!==e&&(f=e[2])),e=null!==f?'<a class="item-row-url" target="_blank" href="'+d+'"'+("1"===g.nofollow?' rel="nofollow"':"")+">"+f+"</a>":""):l?e=g.prefix+
big_number_format(e,!1,g.add_commas)+g.suffix:(e=g.prefix+e+g.suffix,94<e.length&&"<"!==e.charAt(0)&&(e=e.substr(0,80)+'<span class="more-stuff">'+e.substr(80)+'</span><span class="show-more-stuff"> ... <span class="link">Show More</span></span>'));"combo"===g.control_type&&(a=(M[t[b]]||[])[a])&&(e='<img class="srp-app-data-img" src="'+get_img_url(a[0],a[1])+'"/>'+e);return e};var H=d.get_img_info=function(a,b,c){c===h&&(c=v);if(-1===c)return{};b||(b="");var d=k[a][u],d="iurl"===r[c].data_type?[k[a][c]]:
c===v&&C[d]?C[d]:k[a][c].split("^^");if(!d[0])return F&&(0>F.indexOf(".svg")||l.use_svg)?(c=FTB.default_imgs,{src:get_img_url(s,F,b),alt:"",title:"",def:1,w:c[F]?c[F].width:0,h:c[F]?c[F].height:0}):{};var e="",f="",g="";a=k[a][y];d[1]?(f=d[1]+" | "+a,g=d[1]):g=f=a;"img"===r[c].data_type?e=get_img_url(d[4],d[0],b):(e=d[0].split("@@@")[0],"http"!==e.substr(0,4)&&(e=escape(e),"t"===b&&(e=e.replace(/(.*)\/(.*)/g,"$1/t/$2")),e=get_img_cdn_url("/"+e)));return{src:e,alt:f,title:g,filename:d[0],app_id:d[4],
w:~~d[2],h:~~d[3]}};d.get_img_src=function(a,b){var c=k[a][u];return C[c]?"http"===C[c][0].substr(0,4)?C[c][0]:get_img_url(C[c][4],C[c][0],b):""};d.get_detail_url=function(b){if(P){for(var c="",d=0;d<P.length;d++)c+=k[b][n[P[d]]]||"";return c}return a+get_detail_url(k[b][u],k[b][y])};d.get_compare_url=function(){if(!a&&e!=FTB.app_id)throw Error("Unable to get base_url");var b=[],c;if(2>k.length||10<k.length)return"";for(c=0;c<k.length;c++)b.push({id:k[c][u],full_title:k[c][y]});return get_compare_url(a,
b)};d.get_title=function(a){return k[a]?k[a][z]:""};d.get_id=function(a){return k[a][u]};d.rcq_add=function(a,b,c){c=H(b,c);a.add(k[b][u],k[b][z],k[b][y],{filename:c.filename,app_id:c.app_id})};d.update=function(a){if("ok"===a.status){k=d.data=a.data;d.recs=a.recs>>0;d.urls=a.urls||[];if(a.head){r=d.defs=a.defs;t=d.head=a.head;n=[];for(var b=t.length-1;0<=b;b--)n[t[b]]=b;d.head_indexes=n}M=d.app_data_imgs=a.app_data_imgs||{};J=d.sort_field=a.sort_field;L=d.sort_dir=a.sort_dir;N=a.items_per_page>>
0||20;E=a.page>>0;-1===d.recs&&k.length<N&&(d.recs=k.length+E*N);d.dist_index=n.distance||-1;u=d.id_index=n.ID;y=d.full_title_index=n._full_title;T=d.sort_index=n[J]!==h?n[J]:-1;I=d.urr_index=n._urr_avg_rating!==h?n._urr_avg_rating:-1;v=d.img_index=-1;for(a=0;a<Math.min(u,2);a++)if("img"===r[a].data_type||"iurl"===r[a].data_type)v=d.img_index=a;k[0]&&(z=d.title_index=0===v?1:0,a=r[z],z>=u||!a||a.visual_type)&&(z=d.title_index=-1);if(-1!==v)for(b=0;b<k.length;b++)a=k[b][u],C[a]=k[b][v].split("^^"),
C[a][1]=C[a][1]||"",C[a][2]=~~C[a][2],C[a][3]=~~C[a][3]}};d.insert_sponsorships=function(a,b,e){a=a||[];b=b||3;p=a.length;x=c.map(a,function(a){return a[u]});var f=[],g,h;for(g=0;g<k.length;g++)h=k[g][u],0<=x.indexOf(h)&&f.push(h);var l=Math.min(k.length+a.length-f.length);e&&(l=Math.min(e,l));b=Math.min(p,b,Math.floor(2*l/3));if(b=Math.max(0,p-b)){var m=x.splice(p-b,b);a.splice(p-b,b);p=a.length;f=c.grep(f,function(a){return 0>m.indexOf(a)})}d.organic_ids=[];k.unshift.apply(k,a);for(g=p;g<k.length;g++)h=
k[g][u],0<=f.indexOf(h)||g>=l?(k.splice(g,1),g--):d.organic_ids.push(h);d.sponsored_ids=x;d.num_sponsorships=p};w._urr_avg_rating=function(a){return f(a)};w.__ups=function(a,b){var c=k[a][n.__ups]>>0,d=k[a][n.__downs]>>0,e=k[a][n._my_vote];return'<div class="vote-wrap" data-ups="'+c+'" data-downs="'+d+'"><div class="vote-up'+("1"===e?" voted":"")+'"></div><div class="vote-score">'+(c>d?"+":"")+(c-d)+'</div><div class="vote-details">'+c+" ups, "+d+' downs</div><div class="vote-down'+("0"===e?" voted":
"")+'"></div></div>'};d.get_urr_html=f;d.update(m)}l.Comp=g})(jQuery,window,document);
(function(c,l,m,h){function g(a){function f(){if("ok"===P.status){p||(p=E.comp=new Comp(P));p.add_callback(function(){y()});aa=a.find(".ww-header").outerHeight();Y=d?a.find(".ww-footer").outerHeight():0;la&&A.height(a.height()-aa-Y+1);I();g();K.waiting()||(K.did_persist()?w(!0):x.sponsorships_enabled&&p.num_sponsorships&&2<p.data.length?M():(1===p.data.length&&c.subscribe("widget/srp",function(){l.track_sponsor_links(a.find(".sponsor_button").first())}),y()));x.floating_header&&A.find(">>.sx-shadow-top").remove();
if(Z){if(FTB.rcq)Q=FTB.rcq;else{var b=ha?c(ha):a,b=c('<div class="rcq-wrap" style="bottom:'+Y+'px">').appendTo(b);Q=new l.RCQ({app_id:S,base_url:X,element:b})}Q.onadd(n).onremove(q).each(n)}if(ba)A.on("click",".item_row",function(a){var b=c(a.target);b.is("a")||b.hasClass("link")||b.closest(".sx-cb").length||(L(c(this),!0),cancelEvent(a))});if(x.timestamp_message){var e=c('<div class="widget-timestamp-msg-wrap"><div class="widget-timestamp-msg">'+x.timestamp_message+'<span class="widget-timestamp-x">&times;</span></div></div>').css("bottom",
Y||0).on("click",".widget-timestamp-x",function(){e.addClass("hidden")});A.after(e)}}}function g(){var b=-1;a.on("click",".sorted,.unsorted",function(){p.sort(c(this).attr("data-index"),{filters:K.get("array")})}).on("click",".widget-filter-reset",function(){F()}).on("click",".sx-cb-wrap",function(a){cancelEvent(a);a=c(this).find(".sx-cb");a.hasClass("on")?Q.remove(a.data("listing-id")):p.rcq_add(Q,a.closest(".item_row").attr("data-index"),"t")}).on("click",".widget-filter",function(){b=a.find(".filter-wrap").toggleClass("open").hasClass("open")?
0:-1;B("User clicks filter icon")});O.hover(function(){clearTimeout(b);b=0},function(a){0===b&&"SELECT"!==a.target.nodeName&&"INPUT"!==a.target.nodeName&&(b=setTimeout(function(){b=-1;O.removeClass("open")},300))});O.find(".filter-wrap-icon, .filter-wrap-close").hover(function(){c(this).addClass("thm-hover")},function(){c(this).removeClass("thm-hover")}).on("vclick",function(a){cancelEvent(a);0<b&&l.clearTimeout&&clearTimeout(b);b=0;O.removeClass("open");B("User closes filter panel")});a.on("click",
"a.reset",function(a){F();cancelEvent(a)}).on("_resize",_.debounce(m,50));resize_debounce(m)}function m(){A.css("width","auto");setTimeout(function(){A.trigger("srp_resize");H&&H.tinyscrollbar_update("relative");U&&U.new_content()},1)}function n(a){!1!==a&&A.find(".item-row"+a).find(".sx-cb").addClass("on thm-on").data("listing-id",a)}function q(a){A.find(".item-row"+a).find(".sx-cb").removeClass("on thm-on")}function z(a,b){var c="srp-widget-th",d=a===p.sort_index,e=p.defs[a].name;ma||(p.defs[a].sortable&&
(c+=d?" sorted sorted_"+p.sort_dir:" unsorted"),d&&(e+='<div class="sort-arrow sort-'+("DESC"===p.sort_dir?"down":"up")+'"></div>'));return'<th data-index="'+a+'" class="'+c+'"'+(b?' colspan="2"':"")+">"+e+"</th>"}function y(){var d="",e,f,g,k,m,r,q=p.data.length,t,s,u,w,B=ia?p.head.indexOf("amazon_asin"):-1,C=0,D;if(0===q)return v();d+='<table id="'+ga+'" class="srp_widget_table'+(Z?" rcq-margin":"")+'"'+(fa?' style="'+fa+'"':"")+">";if(!na){d+="<thead><tr>";D=0;Z&&(d+='<th class="srp-widget-th compare-header">Compare</th>');
-1!==p.dist_index&&(d+=z(p.dist_index));-1!==p.img_index&&-1!==p.title_index&&(d+=z(p.title_index,!0),D+=2);for(;D<p.id_index;D++)D!==p.img_index&&D!==p.urr_index&&(d+=z(D));d+="</tr></thead>"}d+="<tbody>";for(D=0;D<q;D++){e=p.data[D];f=e[p.id_index];g=e[p.title_index];k="";m=' data-index="'+D+'" data-id="'+f+'"';t=r="";s="item_row item-row"+f;u=ja!==h&&!e[ja];w=p.sponsored_ids.indexOf(f);f=-1!==w&&w===p.sponsored_ids.length-1;ca||u?s+=" no_links":(k=oa||pa&&qa?"_parent":"_blank",r=p.get_detail_url(D),
m+=' data-href="'+r+'" data-target="'+k+'"');-1!==w&&(s+=" sponsor");d+="<tr"+m+' class="'+s+'">';Z&&(d+='<td class="sx-cb-wrap">'+sxCheckbox()+"</td>");-1!==p.dist_index&&(d+="<td>"+p.get_cell(D,p.dist_index,V)+"</td>");-1!==p.img_index&&(m=p.get_img_info(D,"t"),t+='<td class="image">',m.src&&(t+='<img src="'+m.src+'" alt="'+m.alt+'" title="'+m.title+'"/>'),t+="</td>");-1!==p.title_index&&(d+=t,d+='<td class="name">',d=ca?d+p.get_cell(D,p.title_index,V):u?d+g:d+('<a class="widget_row_link" href="'+
r+'" target="'+k+'">'+g+"</a>"),d+=p.get_urr_html(D,!0,!1),-1!==B&&e[B]&&(d+='<br/><a class="buy-now stnd-btn bg-blue" target="_blank" rel="nofollow" href="http://www.amazon.com/dp/'+e[B]+"/?tag="+ia+'">Buy On Amazon</a>'),1===p.id_index-Math.max(p.urr_index,0)&&f&&(d+=G()),d+="</td>");for(e=0;e<p.id_index;e++)e!==p.title_index&&e!==p.urr_index&&(e===p.img_index?-1===p.title_index&&(d+=t):(d+="<td>",d+=p.get_cell(D,e,V),e===p.id_index-1&&f&&(d+=G()),d+="</td>"));d+="</tr>"}d+="</tbody></table>";(H?
A.find(".sx-overview"):A).html(d);H&&A.find(".sx-overview").height("auto");R=A.find(".srp_widget_table");da&&viz.render(da,V);ea&&viz.render(ea,V);Q&&Q.each(n);x.floating_header&&(a.find(".floating-header").remove(),U=new FloatingHeader(R,A,!0));H?setTimeout(function(){H.tinyscrollbar_update(0)},200):H=b(a,A,R,function(){if(U)U.onscroll()});O&&(C=160,O.css("height",Math.max(aa+A.height()+2,C)));!H&&y._resize&&(A.height(Math.max(R.height(),C)),y._resize=!1);c.publish("widget/srp");ka();p.sponsored_comp&&
l.update_sponsor_buttons(a.find(".item_row"))}function v(){var b;b='<div class="no-results-placeholder"/><div class="no-results"><h1 class="no-results-header">No Results</h1><p class="no-results-body">Try <a class="link reset">resetting filters</a>'+(ca?"":' or <a href="'+X+'" target="_blank" class="link base-url">refining your search</a>.</p>')+"</div>";a.find(".floating-header").remove();H?(b=A.find(".sx-overview").html(b).parent().height(),H.tinyscrollbar_update(),A.find(".sx-overview").height("100%")):
b=A.html(b).css("height");R=A.find(".srp_widget_table");!H&&y._resize&&(A.height(Math.max(parseInt(R.height(),10)||0,parseInt(b,10),68)),y._resize=!1);c.publish("widget/srp");ka()}function I(){O=a.find(".filter-wrap");var b,c,d,e=!0,f=a.find(".widget-filter");b=x.filter_specs||{};var g=b.specs||[];c=b.statics||[];var k=O.find(".filter-wrap-inner");if(x.filter_specs&&FTB.filters){d={id:b.id,app_id:S,callback:w,statics:c||[],sort_callback:C,compact:!0};for(b=0;b<g.length;b++)c="w_"+ga+"_fltr_"+b,k.append('<div class="single-filter-wrap clearfix"><div class="filter-title">'+
g[b].title+'</div><div id="'+c+'" class="filter_group"></div></div>'),e=!1,g[b].parent_group="#"+c,g[b].no_report=!0;K=FTB.filters.create_collection(d,g);e?f.hide():B("Display Softjoin with filters",!0)}else f.hide()}function B(a,b){EVT(["Softjoin Filter",a,h,h,b||!1])}function w(b){var d=K.has_criteria(),e=d&&K.has_criteria("_location")&&"_location"===K.get("_location")[0][0],f=c.extend({get_headers:!0,filters:d?K.get("array"):[],hide_distance:!x.show_distance,pre_update:b?function(a){if(!a.data.length)return K.reset(),
y(),!1}:c.noop},w.sort||{});a.find(".widget-filter-reset").toggleClass("shown",d);p.ajax(f);w._location=e;b||B("User changes filter")}function C(a){var b=(w.sort||{}).sort_field;"distance"===a.current&&"distance"!==b&&-1===p.dist_index?(y._resize=!0,w.sort={sort_index:0,sort_dir:"ASC",sort_field:"distance"}):a.last&&a.last===b&&(w.sort=null)}function M(){c.get("/ajax_get_sponsor_listings",{app_id:S,fields:p.head.slice(0,p.id_index),"fil[]":x.no_filter_sponsorships?[]:K.get("array"),_zq:p.zq,sj:1},
function(a){"err"!==a.status&&(a=a.sponsored_listings,p.insert_sponsorships(a.data,3,ra),p.sponsored_ids[0]&&l.track_sponsor(p.sponsored_ids,0,"i","",FTB.IS_WIDGET?"w":"sjd",{app:S}),da=l.vzq,ea=a.viz_queue);y()},"json")}function G(){return'<span class="sponsored-tag">Partner</span>'}function F(){K.reset();w();a.find(".widget-filter-reset").removeClass("shown");B("User reset filters")}function J(a,b){c.each({mouseenter:a,mouseleave:b},function(a,b){if(b)A.on(a,".item_row",function(d){var e=[d],f=
c(this).data("id");f&&(e.push(f),c.each(p.data||[],function(b,c){+a[p.id_index]===f&&e.push(c)}));b.apply(this,e)})})}function T(a){if(a)A.on("rowSelect",function(b){a.call(this,b,W)})}function L(b,c){var d,f;/string|number/.test(typeof b)?(d=String(b),b=A.find(".item-row"+d)):d=b.data("id");d&&b&&b.length&&ba!==e&&(f=b.hasClass("selected"),ba===s&&(A.find(".item_row.selected").removeClass("selected"),W=[]),b.toggleClass("selected",!f),f?(d=W.indexOf(d),0<=d&&W.splice(d,1)):W.push(d),c?b.trigger("rowSelect"):
H&&(d=0,x.floating_header&&(R.scroll(),d-=a.find(".floating-header").height()),H.tinyscrollbar_update(d+b.position().top,1)))}var N=l.widgets;if(N){a=c(a);var E=N[a.attr("data-id")],P=E.srp_data,S=P.app_id,p=E.comp,X=P.base_url,x=E.options,H,Q,A=a.find(".srp_table_div"),R,O,fa=x.inner_width,la=x.main_height,aa,Y,ga=x.table_id,ca=x.no_links,qa=x.is_publisher_domain,oa=x._parent,ia=x.amazon_id,pa=x.is_picker,V=x.viz_width,ra=x.limit,ja=x.no_link_trigger_index,ma=x.nosort,Z=x.compare_enabled,U,ba=x.select_mode||
e,W=[],na=x.hide_table_header,ha=x.rcq_selector,K={get:function(){return[]},has_criteria:c.noop,reset:c.noop,did_persist:c.noop,waiting:c.noop},da,ea;E.$div=a;var ka=_.once(function(){(E.on_render||c.noop)()});E.on_hover=J;E.on_select=T;E.select_row=L;f()}}function q(a){var b=c(this),d=c(a.target),e=b.data("href"),b=b.data("target");d.is("a")&&!d.hasClass("widget_row_link")||!e||(_gaq.push(["_trackEvent","SRP","Click (Listing)",e]),FTB.has_modifier_key(a)||(b?"_blank"===b?l.open(e):setTimeout(function(){l.parent.location.href=
e},100):setTimeout(function(){l.location.href=e},100),a.preventDefault()))}function b(a,b,d,e){if(b.hasClass("sx-scroll-widget")){var g,h,m;b.on("srp_resize",function(){var a=b.width();a&&b.css("width",a)});if(!b.data("collapsed")&&b.is(":visible")&&l.detail){g=d.height();d.css("height","auto");h=d.height();if(h+10<b.height()){b.css({"min-height":h,height:"auto"}).data("collapsed",!0);a.height("auto");return}d.css("height",g)}m=b.tinyscrollbar_build({update_func:e||!1});a=function(){setTimeout(function(){m.tinyscrollbar_update()},
300)};f?a():c(l).load(a);return m}}var f=!1,d=l.location!==l.parent.location,e=0,s=1;c(function(){c(m).on("click",".srp_widget_table .item_row",q)});c(l).load(function(){f=!0});lazy_render(".srp_widget",g);l.render_srp_widget=g})(jQuery,window,document);
(function(c,l){function m(){e=$w.height()}function h(){var a=$w.scrollTop()+e,c=s.length,g,h,l,m;for(g=0;g<c;g++)h=s[g],m=h[b],l=m.offset().top,a>l+h[d]&&m.is(":visible")&&(h[f].call(m[0]),s.splice(g,1),g--,c--)}function g(a,b,c){if(!a||!b)return!1;a instanceof jQuery||(a=$(a));b=_.once(b);a.on("sqrl",b);s.push([a,b,c||0])}function q(a){var c,d,e;for(c=0;c<s.length;c++)d=s[c],e=d[b],e.is(":visible")&&(d[f].call(e[0]),s.splice(c,1),c--);a&&a()}var b=0,f=1,d=2,e,s=[];m();(function(){resize_throttle(m);
scroll_throttle(h);$w.on("keydown",function(a){35===a.keyCode&&"INPUT"!==a.target.nodeName&&"TEXTAREA"!==a.target.nodeName&&(cancelEvent(a),q(function(){$w.scrollTop($(l).height())}))})})();$(function(){setTimeout(h,1)});c._sqrl=g;c._sqrl_run=q;$.fn.sqrl=function(a,b){this.each(function(){g(this,a,b)});return this}})(window,document);
(function(c){function l(c){switch(c){case "start":case !0:f="start";g=h.html();q=h[0].className;b.badClass&&h.removeClass(b.badClass);h.width(h.width());h.html('<div class="animate-spin"><div class="spin-div"></div><div class="spin-text">'+d+"</div></div>").addClass("spinAnimating");h.find(".spin-div").spin(b.spin_options);break;case "stop":case !1:if(!f)break;f="stop";b.badClass&&h.addClass(q);h.find(".spin-div").spin(!1);h.html(g);h.removeClass("spinAnimating");h.removeAttr("style");break;default:m(c,
"Loading...")}}function m(e,f,a){h=c(e);b={spin_options:{lines:9,width:6,radius:8,length:3,color:"#888"}};c.extend(b,a);d=f;l("start")}var h,g,q,b={},f,d;animate_while_i_wait=function(b,c,a){switch(arguments.length){case 1:l(arguments[0]);break;default:m(b,c,a)}}})(jQuery);
(function(c,l){var m=window.get_gaq_page_type(),h=_.now();c.on("load",function(){var g=[10,25,50,75,90,100],q=$(document).height(),b=c.height(),f=function(){for(var d=c.scrollTop()/(q-b)*100,e=g.length-1;0<=e;e--)if(d>=g[e]){g=g.splice(e);EVT([m,"Scroll Depth",g.shift()+"%",_.now()-(h||0),!0]);g.length||c.off("scroll",f);break}};c.scroll(f);l.on("click",".component.narrative",function(){$(event.target).filter(".md-worse, .md-better, .md-bold").length||EVT([m,"Narrative Click","Plain",_.now()-(h||
0),!1])}).on("click",".md-worse, .md-better, .md-bold",function(){EVT([m,"Narrative Click","Highlight",_.now()-(h||0),!1])})})})($w,$d);
(function(c,l){var m,h;"undefined"!==typeof c.hidden?(m="hidden",h="visibilitychange"):"undefined"!==typeof c.mozHidden?(m="mozHidden",h="mozvisibilitychange"):"undefined"!==typeof c.msHidden?(m="msHidden",h="msvisibilitychange"):"undefined"!==typeof c.webkitHidden&&(m="webkitHidden",h="webkitvisibilitychange");if(h)$d.on(h,function(){c[m]||l.is_sports_and_rec||l.is_family||l.is_travel||l.refresh_ad_units&&l.refresh_ad_units()})})(document,window);
